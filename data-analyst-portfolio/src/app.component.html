<!-- Navigation -->
<nav class="bg-white/80 backdrop-blur-md shadow-sm fixed w-full z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">
            <div class="flex-shrink-0 flex items-center">
                <div class="w-10 h-10 rounded-full gradient-bg flex items-center justify-center text-white font-bold text-xl">
                    JR
                </div>
                <span class="ml-3 font-semibold text-gray-900 tracking-wider">JAGATH R</span>
            </div>
            <!-- Desktop Nav -->
            <div class="hidden md:flex items-center ml-10 space-x-8">
                <a (click)="scrollTo('home')" class="cursor-pointer nav-link text-gray-900 hover:text-indigo-600 px-3 py-2 text-sm font-semibold">Home</a>
                <a (click)="scrollTo('about')" class="cursor-pointer nav-link text-gray-900 hover:text-indigo-600 px-3 py-2 text-sm font-semibold">About</a>
                <a (click)="scrollTo('skills')" class="cursor-pointer nav-link text-gray-900 hover:text-indigo-600 px-3 py-2 text-sm font-semibold">Skills</a>
                <a (click)="scrollTo('projects')" class="cursor-pointer nav-link text-gray-900 hover:text-indigo-600 px-3 py-2 text-sm font-semibold">Projects</a>
                <a (click)="scrollTo('experience')" class="cursor-pointer nav-link text-gray-900 hover:text-indigo-600 px-3 py-2 text-sm font-semibold">Experience</a>
                <a (click)="scrollTo('certifications')" class="cursor-pointer nav-link text-gray-900 hover:text-indigo-600 px-3 py-2 text-sm font-semibold">Certifications</a>
                <a (click)="scrollTo('contact')" class="cursor-pointer nav-link text-gray-900 hover:text-indigo-600 px-3 py-2 text-sm font-semibold">Contact</a>
            </div>
            <!-- Hamburger for mobile -->
            <div class="md:hidden flex items-center">
                <button (click)="toggleMobileNav()" class="p-2 rounded-md text-gray-700 hover:text-indigo-600 focus:outline-none" aria-label="Toggle navigation">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <!-- Mobile Nav Links -->
    <div [class.hidden]="!mobileNavOpen()" class="md:hidden px-4 pb-4 bg-white/95 backdrop-blur-md shadow-lg">
        <a (click)="scrollTo('home')" class="block cursor-pointer text-gray-900 hover:text-indigo-600 py-2 font-semibold">Home</a>
        <a (click)="scrollTo('about')" class="block cursor-pointer text-gray-900 hover:text-indigo-600 py-2 font-semibold">About</a>
        <a (click)="scrollTo('skills')" class="block cursor-pointer text-gray-900 hover:text-indigo-600 py-2 font-semibold">Skills</a>
        <a (click)="scrollTo('projects')" class="block cursor-pointer text-gray-900 hover:text-indigo-600 py-2 font-semibold">Projects</a>
        <a (click)="scrollTo('experience')" class="block cursor-pointer text-gray-900 hover:text-indigo-600 py-2 font-semibold">Experience</a>
        <a (click)="scrollTo('certifications')" class="block cursor-pointer text-gray-900 hover:text-indigo-600 py-2 font-semibold">Certifications</a>
        <a (click)="scrollTo('contact')" class="block cursor-pointer text-gray-900 hover:text-indigo-600 py-2 font-semibold">Contact</a>
    </div>
</nav>

<main>
    <!-- Hero Section -->
    <section id="home" class="pt-24 pb-16 md:pt-32 md:pb-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div class="text-center md:text-left">
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-4" [attr.aria-label]="fullHeadlineText()">
                     @for (line of animatedHeadline(); track $index) {
                        <span class="block">
                            @for (item of line; track $index) {
                                <span aria-hidden="true" class="inline-block opacity-0 animate-letter" [class]="item.class" [style.animation-delay]="item.delay" [innerHTML]="item.char === ' ' ? '&nbsp;' : item.char"></span>
                            }
                        </span>
                    }
                </h1>
                <div class="text-lg md:text-xl text-gray-600 mb-8 max-w-lg mx-auto md:mx-0">
                    <p>Passionate about uncovering the stories hidden within data, I specialize in building analytical tools and visualizations that drive business growth and operational efficiency.</p>
                </div>
                <div class="flex flex-col font-semibold sm:flex-row gap-4 justify-center md:justify-start">
                    <a (click)="scrollTo('projects')" class="cursor-pointer px-8 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                        View My Work
                    </a>
                    <a (click)="scrollTo('contact')" class="cursor-pointer px-8 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-300">
                        Contact Me
                    </a>
                </div>
            </div>
             <div class="relative h-80 md:h-96 flex items-center justify-center">
                <!-- Floating Icons -->
                <div class="absolute top-0 left-10 animated-icon-left" style="animation-duration: 5s;">
                    <div class="w-24 h-24 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg flex items-center justify-center text-indigo-500 text-4xl"><i class="fas fa-chart-pie"></i></div>
                </div>
                <div class="absolute bottom-10 left-1/3 animated-icon-right" style="animation-duration: 7s; animation-delay: -2s;">
                    <div class="w-20 h-20 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg flex items-center justify-center text-emerald-500 text-4xl"><i class="fas fa-database"></i></div>
                </div>
                <div class="absolute top-1/4 right-10 animated-icon-right" style="animation-duration: 6s; animation-delay: -1s;">
                    <div class="w-28 h-28 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg flex items-center justify-center text-rose-500 text-4xl"><i class="fas fa-lightbulb"></i></div>
                </div>
                <div class="absolute bottom-0 right-1/2 animated-icon-left" style="animation-duration: 8s; animation-delay: -3s;">
                    <div class="w-16 h-16 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg flex items-center justify-center text-amber-500 text-4xl"><i class="fas fa-code"></i></div>
                </div>
                <div class="absolute top-1/2 left-4 animated-icon-left" style="animation-duration: 8s; animation-delay: -4s;">
                    <div class="w-16 h-16 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg flex items-center justify-center text-sky-500 text-4xl"><i class="fab fa-python"></i></div>
                </div>
                <div class="absolute bottom-1/4 right-4 animated-icon-right" style="animation-duration: 5.5s; animation-delay: -1.5s;">
                    <div class="w-20 h-20 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg flex items-center justify-center text-gray-500 text-4xl"><i class="fas fa-cogs"></i></div>
                </div>
                <div class="absolute top-1/3 right-1/3 animated-icon-right" style="animation-duration: 6.5s; animation-delay: -2.5s;">
                    <div class="w-16 h-16 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg flex items-center justify-center text-violet-500 text-4xl"><i class="fas fa-chart-line"></i></div>
                </div>
                <div class="absolute bottom-1/3 left-10 animated-icon-left" style="animation-duration: 7.5s; animation-delay: -0.5s;">
                    <div class="w-16 h-16 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg flex items-center justify-center text-cyan-500 text-4xl"><i class="fas fa-vial"></i></div>
                </div>

                <!-- Decorative background shapes -->
                <div class="absolute top-1/2 left-1/2 w-72 h-72 -translate-x-1/2 -translate-y-1/2 bg-indigo-100 rounded-full blur-2xl opacity-50"></div>
                <div class="absolute top-1/4 left-1/4 w-48 h-48 -translate-x-1/2 -translate-y-1/2 bg-emerald-100 rounded-full blur-2xl opacity-50"></div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 sm:py-20 lg:py-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto bg-gray-50 rounded-3xl my-12">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div class="relative">
                <div class="w-full h-80 bg-white rounded-2xl shadow-lg overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1543286386-713bdd548da4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Data Storytelling" class="w-full h-full object-cover">
                </div>
                <div class="absolute -bottom-6 -left-6 w-32 h-32 rounded-full bg-indigo-500/10 blur-xl"></div>
            </div>
            <div>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6 uppercase">About <span class="text-indigo-600">Me</span></h2>
                <p class="text-gray-600 mb-6">I'm a data storyteller, passionate about finding the narrative in the numbers. My goal is to bridge the gap between complex data and clear, strategic business decisions.</p>
                <p class="text-gray-600 mb-8">My approach combines technical rigor with a keen sense of business context, ensuring that every insight I deliver is not just statistically sound, but also directly relevant and actionable.</p>
                <div #animateInView class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                    <div class="animate-skill-card-in bg-white p-4 rounded-lg shadow-sm"><div class="text-indigo-600 text-2xl mb-2"><i class="fas fa-database"></i></div><h3 class="font-semibold text-gray-900">Data Processing</h3><p class="text-sm text-gray-500">Cleaning & transforming raw data</p></div>
                    <div class="animate-skill-card-in bg-white p-4 rounded-lg shadow-sm" [style.transition-delay]="'100ms'"><div class="text-emerald-500 text-2xl mb-2"><i class="fas fa-chart-line"></i></div><h3 class="font-semibold text-gray-900">Visualization</h3><p class="text-sm text-gray-500">Creating impactful data stories</p></div>
                    <div class="animate-skill-card-in bg-white p-4 rounded-lg shadow-sm" [style.transition-delay]="'200ms'"><div class="text-amber-500 text-2xl mb-2"><i class="fas fa-brain"></i></div><h3 class="font-semibold text-gray-900">Predictive Models</h3><p class="text-sm text-gray-500">Forecasting future trends</p></div>
                    <div class="animate-skill-card-in bg-white p-4 rounded-lg shadow-sm" [style.transition-delay]="'300ms'"><div class="text-rose-500 text-2xl mb-2"><i class="fas fa-lightbulb"></i></div><h3 class="font-semibold text-gray-900">Insights</h3><p class="text-sm text-gray-500">Delivering actionable recommendations</p></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="py-16 sm:py-20 lg:py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4 uppercase">My <span class="text-indigo-600">Skills</span></h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">The technical toolkit I use to transform data into strategic insights.</p>
            </div>
            <div>
                <div #animateInView class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    @for (category of techProficiencies; track category.category; let i = $index) {
                        <div class="animate-skill-card-in bg-white p-6 rounded-2xl shadow-lg border border-gray-100 hover:border-indigo-500 transition-all duration-300 card-hover" [style.transition-delay]="i * 100 + 'ms'">
                            <div class="flex items-center mb-6">
                                <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center mr-4">
                                    <i class="{{category.icon}} text-2xl"></i>
                                </div>
                                <h4 class="text-lg font-semibold text-gray-900">{{ category.category }}</h4>
                            </div>
                            <div class="flex flex-wrap gap-2">
                                @for (skill of category.skills; track skill.name) {
                                    <span class="flex items-center text-sm bg-gray-200 text-gray-800 px-3 py-1 rounded-full font-medium">
                                        <i class="{{skill.icon}} mr-2 text-gray-600"></i>
                                        <span>{{ skill.name }}</span>
                                    </span>
                                }
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-16 sm:py-20 lg:py-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto bg-gray-50 rounded-3xl my-12">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4 uppercase">Featured <span class="text-indigo-600">Projects</span></h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">A showcase of key projects where I transformed complex data into actionable insights and compelling visual stories.</p>
        </div>
        <div class="text-center mb-16">
            <button (click)="openAddProjectModal()" class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                <i class="fas fa-plus mr-2"></i>Add Project
            </button>
        </div>
        <div #animateInView class="grid grid-cols-1 md:grid-cols-2 gap-8">
            @for (project of projects(); track project.title; let i = $index) {
            <button (click)="openProjectModal(project)" type="button" class="animate-project-card-in group relative text-left rounded-2xl shadow-lg overflow-hidden card-hover" [style.transition-delay]="i * 100 + 'ms'">
                <div class="h-64 overflow-hidden">
                    <img [ngSrc]="project.imgSrc" [alt]="project.title" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" width="550" height="256" [priority]="i < 2" />
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                <div class="absolute bottom-0 left-0 p-6 w-full">
                    <h3 class="text-xl font-semibold text-white mb-2">{{ project.title }}</h3>
                    <div class="flex flex-wrap gap-2">
                        @for (tag of project.tags; track tag) {
                        <span class="text-xs px-3 py-1 bg-white/20 backdrop-blur-sm text-white rounded-full">{{ tag }}</span>
                        }
                    </div>
                </div>
            </button>
            }
        </div>
    </section>

    <!-- Experience Section -->
    <section id="experience" class="py-16 sm:py-20 lg:py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12"><h2 class="text-3xl font-bold text-gray-800 mb-4 uppercase">Professional <span class="text-indigo-600">Experience</span></h2><p class="text-lg text-gray-600 max-w-3xl mx-auto">A timeline of my contributions, applying analytical rigor to solve business challenges and drive measurable outcomes.</p></div>
            <div class="text-center mb-16">
                 <button (click)="openAddExperienceModal()" class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                    <i class="fas fa-plus mr-2"></i>Add Experience
                </button>
            </div>
            <div class="relative">
                <!-- Timeline Line -->
                <div class="absolute left-3.5 top-2 h-full w-0.5 bg-gray-200 md:left-1/2 md:-translate-x-px"></div>

                <div class="space-y-12">
                @for (exp of experiences(); track exp.role) {
                <div #animateInView class="relative md:grid md:grid-cols-2 md:gap-x-12">
                    <!-- Dot -->
                    <div class="animate-scale-in absolute left-3.5 top-2 w-4 h-4 -translate-x-1/2 rounded-full bg-indigo-600 border-4 border-white shadow-md md:left-1/2"></div>
                    
                    <!-- Title Block -->
                    <div class="pl-8 md:pl-0" 
                        [class.md:col-start-1]="exp.align === 'left'" 
                        [class.md:col-start-2]="exp.align === 'right'" 
                        [class.md:text-right]="exp.align === 'left'">
                        <div [class.animate-slide-in-left]="exp.align === 'left'" [class.animate-slide-in-right]="exp.align === 'right'">
                             <h3 class="text-xl font-bold text-gray-800">{{ exp.role }}</h3>
                             <p class="text-indigo-600 font-medium">{{ exp.company }}</p>
                             <p class="text-gray-500">{{ exp.date }}</p>
                        </div>
                    </div>

                    <!-- Description Block -->
                    <div class="pl-8 mt-4 md:mt-0 md:pl-0" 
                        [class.md:col-start-2]="exp.align === 'left'" 
                        [class.md:col-start-1]="exp.align === 'right'" 
                        [class.md:row-start-1]="exp.align === 'right'">
                        <div class="bg-gray-50 p-6 rounded-lg shadow-sm" [class.animate-slide-in-right]="exp.align === 'left'" [class.animate-slide-in-left]="exp.align === 'right'">
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                @for (point of exp.points; track point) {
                                <li>{{ point }}</li>
                                }
                            </ul>
                        </div>
                    </div>
                </div>
                }
                </div>
            </div>
        </div>
    </section>
    
    <!-- Certifications Section -->
    <section id="certifications" class="py-16 sm:py-20 lg:py-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto bg-gray-50 rounded-3xl my-12">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4 uppercase">Certifications & <span class="text-indigo-600">Credentials</span></h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">Proof of my commitment to continuous learning and professional development.</p>
        </div>
        <div #animateInView class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
            @for (cert of certifications; track cert.title; let i = $index) {
            <div class="animate-cert-card-in bg-white p-6 rounded-xl shadow-lg flex items-start space-x-6 card-hover" [style.transition-delay]="i * 100 + 'ms'">
                <div class="flex-shrink-0">
                    <div class="w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center">
                        <i class="{{cert.icon}} text-3xl"></i>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-gray-900">{{ cert.title }}</h3>
                    <p class="font-medium text-indigo-600 mb-2">{{ cert.authority }}</p>
                    <p class="text-gray-600">{{ cert.description }}</p>
                </div>
            </div>
            }
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 sm:py-20 lg:py-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4 uppercase">GET IN <span class="text-indigo-600">TOUCH</span></h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">Have a project in mind or want to connect? I'd love to hear from you.</p>
        </div>
        <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
            <!-- Left: Contact Info -->
            <div class="space-y-8">
                <div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-4">Let's Connect</h3>
                    <p class="text-gray-600">I'm currently available for freelance work and open to discussing new projects. Feel free to reach out via email, phone, or social media.</p>
                </div>
                <div class="space-y-6">
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 text-xl"><i class="fas fa-envelope"></i></div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Email</h4>
                            <a href="mailto:jagathranganathan@gmail.com" class="text-gray-600 hover:text-indigo-600 transition">jagathranganathan@gmail.com</a>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 text-xl"><i class="fas fa-phone-alt"></i></div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Phone</h4>
                            <span class="text-gray-600">+91-8870073055</span>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 text-xl"><i class="fas fa-map-marker-alt"></i></div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Location</h4>
                            <span class="text-gray-600">Nemilicherry, Chennai, India</span>
                        </div>
                    </div>
                </div>
                <div class="pt-6 border-t border-gray-200">
                    <h4 class="font-semibold text-gray-800 mb-4">Follow Me</h4>
                    <div class="flex space-x-4">
                        <a href="https://www.linkedin.com/in/jagath-r-2bb4a2263" target="_blank" class="w-12 h-12 rounded-lg bg-gray-100 text-gray-600 flex items-center justify-center hover:bg-indigo-600 hover:text-white transition"><i class="fab fa-linkedin-in text-xl"></i></a>
                        <a href="https://github.com/jagath132" target="_blank" class="w-12 h-12 rounded-lg bg-gray-100 text-gray-600 flex items-center justify-center hover:bg-indigo-600 hover:text-white transition"><i class="fab fa-github text-xl"></i></a>
                    </div>
                </div>
            </div>
    
            <!-- Right: Contact Form -->
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-100">
                 @if (formStatus().state !== 'idle') {
                    <div [class.text-green-600]="formStatus().state === 'success'" [class.text-red-600]="formStatus().state === 'error'" [class.text-blue-600]="formStatus().state === 'submitting'" class="mb-4 font-medium">{{ formStatus().message }}</div>
                 }
                <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-6">
                    <div><label for="name" class="block text-sm font-medium text-gray-700 mb-1">Name</label><input type="text" id="name" formControlName="name" class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-gray-50 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" placeholder="Your name" required></div>
                    <div><label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label><input type="email" id="email" formControlName="email" class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-gray-50 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" placeholder="your@email.com" required></div>
                    <div><label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Subject</label><input type="text" id="subject" formControlName="subject" class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-gray-50 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" placeholder="How can I help?" required></div>
                    <div><label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message</label><textarea id="message" formControlName="message" rows="4" class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-gray-50 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" placeholder="Tell me about your project..." required></textarea></div>
                    <div><button type="submit" [disabled]="contactForm.invalid || formStatus().state === 'submitting'" class="w-full px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition duration-300 shadow-lg hover:shadow-xl disabled:bg-indigo-400 disabled:cursor-not-allowed">Send Message</button></div>
                </form>
            </div>
        </div>
    </section>
</main>
<!-- Footer -->
<footer class="py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
    <div class="border-t border-gray-200 pt-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <div class="w-10 h-10 rounded-full gradient-bg flex items-center justify-center text-white font-bold text-xl mb-4">JR</div>
                <p class="text-gray-600 mb-4 font-bold">Uncovering data-driven stories to fuel business growth and innovation.</p>
                <div class="flex space-x-4"><a href="https://www.linkedin.com/in/jagath-r-2bb4a2263" target="_blank" class="text-gray-500 hover:text-indigo-600 transition"><i class="fab fa-linkedin-in text-2xl"></i></a><a href="https://github.com/jagath132" target="_blank" class="text-gray-500 hover:text-indigo-600 transition"><i class="fab fa-github text-2xl"></i></a></div>
            </div>
            <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Quick Links</h3>
                <ul class="space-y-2">
                    <li><a (click)="scrollTo('home')" class="text-gray-600 hover:text-indigo-600 transition font-semibold cursor-pointer">Home</a></li>
                    <li><a (click)="scrollTo('about')" class="text-gray-600 hover:text-indigo-600 transition font-semibold cursor-pointer">About</a></li>
                    <li><a (click)="scrollTo('skills')" class="text-gray-600 hover:text-indigo-600 transition font-semibold cursor-pointer">Skills</a></li>
                    <li><a (click)="scrollTo('projects')" class="text-gray-600 hover:text-indigo-600 transition font-semibold cursor-pointer">Projects</a></li>
                    <li><a (click)="scrollTo('experience')" class="text-gray-600 hover:text-indigo-600 transition font-semibold cursor-pointer">Experience</a></li>
                    <li><a (click)="scrollTo('certifications')" class="text-gray-600 hover:text-indigo-600 transition font-semibold cursor-pointer">Certifications</a></li>
                    <li><a (click)="scrollTo('contact')" class="text-gray-600 hover:text-indigo-600 transition font-semibold cursor-pointer">Contact</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Get In Touch</h3>
                <ul class="space-y-2">
                    <li class="flex items-center text-gray-600 font-semibold"><i class="fas fa-envelope mr-2 text-indigo-600"></i>jagathranganathan@gmail.com</li>
                    <li class="flex items-center text-gray-600 font-semibold"><i class="fas fa-phone-alt mr-2 text-indigo-600"></i>+91-8870073055</li>
                    <li class="flex items-center text-gray-600 font-semibold"><i class="fas fa-map-marker-alt mr-2 text-indigo-600"></i>Nemilicherry chennai, India</li>
                </ul>
            </div>
        </div>
        <div class="mt-12 pt-8 font-semibold border-t border-gray-200 text-center text-gray-600 text-sm"><p>&copy; {{ currentYear() }} JAGATH R. All rights reserved.</p></div>
    </div>
</footer>

@if (showBackToTop()) {
<button (click)="scrollToTop()" class="fixed bottom-5 right-5 w-12 h-12 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition duration-300 flex items-center justify-center z-50" aria-label="Back to top">
    <i class="fas fa-arrow-up"></i>
</button>
}

<!-- Project Modal -->
@if (selectedProject(); as project) {
<div (click)="closeProjectModal()" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 modal-backdrop">
    <div (click)="$event.stopPropagation()" class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col modal-panel">
        <div class="flex-shrink-0 flex justify-between items-center p-4 border-b">
            <h2 class="text-2xl font-bold text-gray-900">{{ project.title }}</h2>
            <button (click)="closeProjectModal()" class="text-gray-400 hover:text-gray-600 transition">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        <div class="flex-grow overflow-y-auto p-4 sm:p-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Left Column: Image and Tags -->
                <div>
                    <div (click)="openImageLightbox(project.imgSrc)" class="relative rounded-lg overflow-hidden mb-4 cursor-pointer group">
                        <img [ngSrc]="project.imgSrc" [alt]="project.title" class="w-full h-auto object-cover transition-transform duration-300 group-hover:scale-105" width="550" height="309">
                        <div class="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                           <i class="fas fa-search-plus text-white text-4xl"></i>
                        </div>
                    </div>
                    <h3 class="font-semibold text-gray-800 mb-2">Technologies Used:</h3>
                    <div class="flex flex-wrap gap-2">
                         @for (tag of project.tags; track tag) {
                        <span class="text-xs px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full font-medium">{{ tag }}</span>
                        }
                    </div>
                </div>
                <!-- Right Column: Case Study Details -->
                <div class="space-y-6 mt-6 lg:mt-0">
                    <div>
                        <h3 class="text-lg font-semibold text-indigo-600 mb-2 border-b pb-2">The Problem</h3>
                        <p class="text-gray-600">{{ project.caseStudy.problem }}</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-emerald-600 mb-2 border-b pb-2">The Process</h3>
                        <p class="text-gray-600">{{ project.caseStudy.process }}</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-rose-600 mb-2 border-b pb-2">The Outcome</h3>
                        <p class="text-gray-600">{{ project.caseStudy.outcome }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
}

<!-- Add Project Modal -->
@if (showAddProjectModal()) {
<div (click)="closeAddProjectModal()" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 modal-backdrop">
    <div (click)="$event.stopPropagation()" class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col modal-panel">
        <div class="flex-shrink-0 flex justify-between items-center p-4 border-b">
            <h2 class="text-2xl font-bold text-gray-900">Add New Project</h2>
            <button (click)="closeAddProjectModal()" class="text-gray-400 hover:text-gray-600 transition">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        <div class="flex-grow overflow-y-auto p-6">
            <form [formGroup]="newProjectForm" (ngSubmit)="onAddProject()" class="space-y-4">
                <div><label for="p-title" class="block text-sm font-medium text-gray-700 mb-1">Project Title</label><input id="p-title" type="text" formControlName="title" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500" placeholder="e.g., Sales Dashboard"></div>
                <div><label for="p-img" class="block text-sm font-medium text-gray-700 mb-1">Image URL</label><input id="p-img" type="url" formControlName="imgSrc" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500" placeholder="https://example.com/image.png"></div>
                <div><label for="p-tags" class="block text-sm font-medium text-gray-700 mb-1">Tags (comma-separated)</label><input id="p-tags" type="text" formControlName="tags" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500" placeholder="e.g., Power BI, SQL, Python"></div>
                <div><label for="p-problem" class="block text-sm font-medium text-gray-700 mb-1">The Problem</label><textarea id="p-problem" formControlName="problem" rows="3" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500"></textarea></div>
                <div><label for="p-process" class="block text-sm font-medium text-gray-700 mb-1">The Process</label><textarea id="p-process" formControlName="process" rows="3" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500"></textarea></div>
                <div><label for="p-outcome" class="block text-sm font-medium text-gray-700 mb-1">The Outcome</label><textarea id="p-outcome" formControlName="outcome" rows="3" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500"></textarea></div>
                <div class="flex justify-end pt-4 space-x-4">
                    <button type="button" (click)="closeAddProjectModal()" class="px-6 py-2 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transition">Cancel</button>
                    <button type="submit" [disabled]="newProjectForm.invalid" class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition disabled:bg-indigo-400 disabled:cursor-not-allowed">Save Project</button>
                </div>
            </form>
        </div>
    </div>
</div>
}

<!-- Add Experience Modal -->
@if (showAddExperienceModal()) {
<div (click)="closeAddExperienceModal()" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 modal-backdrop">
    <div (click)="$event.stopPropagation()" class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col modal-panel">
        <div class="flex-shrink-0 flex justify-between items-center p-4 border-b">
            <h2 class="text-2xl font-bold text-gray-900">Add New Experience</h2>
            <button (click)="closeAddExperienceModal()" class="text-gray-400 hover:text-gray-600 transition">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        <div class="flex-grow overflow-y-auto p-6">
            <form [formGroup]="newExperienceForm" (ngSubmit)="onAddExperience()" class="space-y-4">
                <div><label for="e-role" class="block text-sm font-medium text-gray-700 mb-1">Role</label><input id="e-role" type="text" formControlName="role" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500" placeholder="e.g., Data Analyst"></div>
                <div><label for="e-company" class="block text-sm font-medium text-gray-700 mb-1">Company</label><input id="e-company" type="text" formControlName="company" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500" placeholder="e.g., Acme Corp"></div>
                <div><label for="e-date" class="block text-sm font-medium text-gray-700 mb-1">Date Range</label><input id="e-date" type="text" formControlName="date" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500" placeholder="e.g., Jan 2023 - Present"></div>
                <div><label for="e-points" class="block text-sm font-medium text-gray-700 mb-1">Key Points (one per line)</label><textarea id="e-points" formControlName="points" rows="5" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500"></textarea></div>
                <div class="flex justify-end pt-4 space-x-4">
                    <button type="button" (click)="closeAddExperienceModal()" class="px-6 py-2 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transition">Cancel</button>
                    <button type="submit" [disabled]="newExperienceForm.invalid" class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition disabled:bg-indigo-400 disabled:cursor-not-allowed">Save Experience</button>
                </div>
            </form>
        </div>
    </div>
</div>
}

<!-- Image Lightbox -->
@if (lightboxImageUrl(); as imageUrl) {
<div (click)="closeImageLightbox()" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4 sm:p-6 lg:p-8 modal-backdrop">
    <div (click)="$event.stopPropagation()" class="relative">
        <img [ngSrc]="imageUrl" alt="Project Image Lightbox" class="max-w-[95vw] max-h-[90vh] object-contain rounded-lg shadow-2xl animate-zoom-in" width="1200" height="675">
        <button (click)="closeImageLightbox()" class="absolute -top-3 -right-3 w-10 h-10 bg-white/10 text-white rounded-full flex items-center justify-center hover:bg-white/20 transition backdrop-blur-sm border border-white/20" aria-label="Close image view">
            <i class="fas fa-times text-xl"></i>
        </button>
    </div>
</div>
}
